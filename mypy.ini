[mypy]
# 프로젝트 전체 설정
python_version = 3.11
warn_return_any = True
warn_unused_configs = True
disallow_untyped_defs = True
disallow_incomplete_defs = True
check_untyped_defs = True
disallow_untyped_decorators = True
no_implicit_optional = True
warn_redundant_casts = True
warn_unused_ignores = True
warn_no_return = True
warn_unreachable = True
strict_equality = True
strict_concatenate = True

# 프로젝트 루트
mypy_path = .

# 프로젝트 패키지 포함
packages = studymate_api,accounts,study,quiz,subscription,notifications

# 제외할 패키지
exclude = (?x)(
    ^venv/
    | ^env/
    | ^migrations/
    | ^tests/
    | ^build/
    | ^dist/
    | \.pyc$
    | \.pyo$
)

# 플러그인
plugins = mypy_django_plugin.main

# Django 설정
[mypy.plugins.django-stubs]
django_settings_module = studymate_api.settings

# 써드파티 라이브러리 설정
[mypy-django.*]
ignore_missing_imports = True

[mypy-rest_framework.*]
ignore_missing_imports = True

[mypy-celery.*]
ignore_missing_imports = True

[mypy-redis.*]
ignore_missing_imports = True

[mypy-stripe.*]
ignore_missing_imports = True

[mypy-openai.*]
ignore_missing_imports = True

[mypy-anthropic.*]
ignore_missing_imports = True

[mypy-together.*]
ignore_missing_imports = True

[mypy-PIL.*]
ignore_missing_imports = True

[mypy-psycopg2.*]
ignore_missing_imports = True

[mypy-decouple.*]
ignore_missing_imports = True

[mypy-allauth.*]
ignore_missing_imports = True

[mypy-sentry_sdk.*]
ignore_missing_imports = True

[mypy-silk.*]
ignore_missing_imports = True

[mypy-psutil.*]
ignore_missing_imports = True

[mypy-faker.*]
ignore_missing_imports = True

[mypy-factory.*]
ignore_missing_imports = True

[mypy-responses.*]
ignore_missing_imports = True

[mypy-freezegun.*]
ignore_missing_imports = True

[mypy-model_bakery.*]
ignore_missing_imports = True

[mypy-drf_spectacular.*]
ignore_missing_imports = True

# 앱별 설정
[mypy-accounts.*]
disallow_untyped_defs = True
check_untyped_defs = True
warn_redundant_casts = True
warn_unused_ignores = True

[mypy-study.*]
disallow_untyped_defs = True
check_untyped_defs = True
warn_redundant_casts = True
warn_unused_ignores = True

[mypy-quiz.*]
disallow_untyped_defs = True
check_untyped_defs = True
warn_redundant_casts = True
warn_unused_ignores = True

[mypy-subscription.*]
disallow_untyped_defs = True
check_untyped_defs = True
warn_redundant_casts = True
warn_unused_ignores = True

[mypy-notifications.*]
disallow_untyped_defs = True
check_untyped_defs = True
warn_redundant_casts = True
warn_unused_ignores = True

[mypy-studymate_api.*]
disallow_untyped_defs = True
check_untyped_defs = True
warn_redundant_casts = True
warn_unused_ignores = True